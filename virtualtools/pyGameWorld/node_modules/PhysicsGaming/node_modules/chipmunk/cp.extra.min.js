!function(){var t=cp.v,r=function(t,r,o){t.beginPath(),t.arc(r.x,r.y,o,0,2*Math.PI,!1),t.fill(),t.stroke()},o=function(t,r,o){t.beginPath(),t.moveTo(r.x,r.y),t.lineTo(o.x,o.y),t.stroke()},i=[t(0,0),t(.2,0),t(.25,.5),t(.3,-1),t(.35,1),t(.4,-1),t(.45,1),t(.5,-1),t(.55,1),t(.6,-1),t(.65,1),t(.7,-1),t(.75,.5),t(.8,0),t(1,0)],e=function(r,o,e,a){null==a&&(a=6),r.beginPath(),r.moveTo(o.x,o.y);for(var l=t.sub(e,o),h=t.len(l),n=t.mult(l,1/h),s=1;s<i.length;s++){var c=t.add(o,t.rotate(t(i[s].x*h,i[s].y*a),n));r.lineTo(c.x,c.y)}r.stroke()};cp.PolyShape.prototype.draw=function(t){t.beginPath();var r=this.tVerts,o=r.length,i=new cp.Vect(r[o-2],r[o-1]);t.moveTo(i.x,i.y);for(var e=0;e<o;e+=2){var a=new cp.Vect(r[e],r[e+1]);t.lineTo(a.x,a.y)}t.fill(),t.stroke()},cp.SegmentShape.prototype.draw=function(t){var r=t.lineWidth;t.lineWidth=Math.max(1,2*this.r),o(t,this.ta,this.tb),t.lineWidth=r},cp.CircleShape.prototype.draw=function(t){r(t,this.tc,this.r),o(t,this.tc,cp.v.mult(this.body.rot,this.r).add(this.tc))},cp.PinJoint.prototype.draw=function(t){var r=this.a.local2World(this.anchr1),i=this.b.local2World(this.anchr2);t.lineWidth=2,t.strokeStyle="grey",o(t,r,i)},cp.SlideJoint.prototype.draw=function(r){var i=this.a.local2World(this.anchr1),e=this.b.local2World(this.anchr2),a=t.add(i,t.clamp(t.sub(e,i),this.min));r.lineWidth=2,r.strokeStyle="grey",o(r,i,e),r.strokeStyle="red",o(r,i,a)},cp.PivotJoint.prototype.draw=function(t){var o=this.a.local2World(this.anchr1),i=this.b.local2World(this.anchr2);t.strokeStyle="grey",t.fillStyle="grey",r(t,o,2),r(t,i,2)},cp.GrooveJoint.prototype.draw=function(t){var i=this.a.local2World(this.grv_a),e=this.a.local2World(this.grv_b),a=this.b.local2World(this.anchr2);t.strokeStyle="grey",o(t,i,e),r(t,a,3)},cp.DampedSpring.prototype.draw=function(t){var r=this.a.local2World(this.anchr1),o=this.b.local2World(this.anchr2);t.strokeStyle="grey",e(t,r,o)};for(var a=function(){return Math.floor(256*Math.random())},l=[],h=0;h<100;h++)l.push("rgb("+a()+", "+a()+", "+a()+")");cp.Shape.prototype.style=function(){var t;return this.sensor?"rgba(255,255,255,0)":(t=this.body).isSleeping()?"rgb(50,50,50)":t.nodeIdleTime>this.space.sleepTimeThreshold?"rgb(170,170,170)":l[this.hashid%l.length]}}();
